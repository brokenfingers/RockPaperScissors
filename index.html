<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <meta charset="utf-8"/>
        <link href="style.css" rel="stylesheet">
    </head>
    <body>
        <div class="contentHolder">
            <div class="buttonsHolder">
                <button class=button id="rock">Rock</button>
                <button class=button id="paper">Paper</button>
                <button class=button id="scissors">Scissors</button>
            </div>
        </div>
        <script>
            const resultHolder = document.createElement('p');
            const contentHolder = document.querySelector('div');

            resultHolder.textContent = 'cia bus kazkas';

            contentHolder.prepend(resultHolder);

            function playRound(playerSelection, computerSelection) {
               
                
               
            
                if (playerSelection == computerSelection) {

                    return `You pick the same: ${playerSelection}  and  ${computerSelection}`;
                } else if(playerSelection == 'rock' && computerSelection == 'scissors' ||
                         playerSelection == 'scissors' && computerSelection == 'paper' ||
                         playerSelection == 'paper' && computerSelection == 'rock') {
                    playerWins++;          
                    return winloseMessage(playerSelection, computerSelection, 'win');
                } else {
                    computerWins++;
                    return winloseMessage( computerSelection, playerSelection, 'lose');
                }

            }
            function game(){

                if(gameTries > 0) {
                    
                    roundMessage = playRound(playerSelection, computerPlay());
                    resultHolder.innerHTML += '<br>'+roundMessage;
                    
                    gameTries--;
                    
                 } else if(gameTries == 0) {
                    gameTries--;
                    resultHolder.innerHTML += '<br>'+getResultMessage();
                    return;
                 } else {
                     return;
                 }
                 
                
                
            }
            
            function getResultMessage() {
                if(playerWins>computerWins) {
                    return `Player wins result: ${playerWins} and ${computerWins}`;
                } else if (playerWins<computerWins){
                    return `Computer wins result: ${computerWins} and ${playerWins}`;
                } else {
                    return `Result is equal: ${computerWins} and ${playerWins}`;
        
                }
            }
            function winloseMessage(a, b, winLose) {
                return `You ${winLose}. ${a} beats ${b}`;
            }
            function computerPlay(){
                
                let options = ['Rock', 'Paper', 'Scissors'];
                let rnd = Math.round(Math.random()*2);
                
                return lowLetters(options[rnd]);
            }
            function lowLetters(str) {
                return str.toLowerCase();
            }
            function userInput() {
                playerSelection =this['id'];
               game();
            }

            let buttons = document.querySelectorAll('button');
            
            buttons.forEach(button => {
                button.addEventListener('click', userInput);
            });



            let gameTries = 5;
            let roundMessage = '';
            let playerWins = 0;
            let computerWins = 0;
            let lastComputerSelection = '';
            let computerSelection = computerPlay();           
            let playerSelection;
           
        </script>
    </body>

</html>