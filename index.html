<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <meta charset="utf-8"/>
    </head>
    <body>
        <script>
            function playRound(playerSelection, computerSelection) {
                playerSelection = lowLetters(playerSelection);
                computerSelection = lowLetters(computerSelection);
               
            
                if (playerSelection == computerSelection) {

                    return `You pick the same: ${playerSelection}  and  ${computerSelection}`;
                } else if(playerSelection == 'rock' && computerSelection == 'scissors' ||
                         playerSelection == 'scissors' && computerSelection == 'paper' ||
                         playerSelection == 'paper' && computerSelection == 'rock') {
                    playerWins++;          
                    return winloseMessage(playerSelection, computerSelection, 'win');
                } else {
                    computerWins++;
                    return winloseMessage( computerSelection, playerSelection, 'lose');
                }

            }
            function game(){

                while(gameTries) {
                    console.log(' ');
                    roundMessage = playRound(playerSelection, computerPlay());
                    console.log(roundMessage);
                    gameTries--;
                    
                }
                if(playerWins>computerWins) {
                    console.log(`Player wins result: ${playerWins} and ${computerWins}`);
                } else if (playerWins<computerWins){
                    console.log(`Computer wins result: ${computerWins} and ${playerWins}`);
                } else {
                    console.log(`Result is equal: ${computerWins} and ${playerWins}`);
        
                }
                
            }           
            function winloseMessage(a, b, winLose) {
                return `You ${winLose}. ${a} beats ${b}`;
            }
            function computerPlay(){
                let options = ['Rock', 'Paper', 'Scissors'];
                let rnd = Math.round(Math.random()*2);
                
                return options[rnd];
            }
            function lowLetters(str) {
                return str.toLowerCase();
            }
            function userInput() {
                let msg = 'Rock, Paper or Scissors?:'
                let inpt = prompt(msg, '');
                while(!msg.toLocaleLowerCase().includes(inpt.toLocaleLowerCase())) {
                inpt = prompt(`Wrong input, select between: ${msg}`, '');
            }
                return inpt;
    
            }
            let gameTries = 5;
            let roundMessage = '';
            let playerWins = 0;
            let computerWins = 0;
            let computerSelection = computerPlay();           
            let playerSelection = userInput();
            game(); 
        </script>
    </body>

</html>